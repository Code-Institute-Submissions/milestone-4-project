{% extends 'base.html' %}
{% block content %}

<h3>Add an Appointment</h3>
<div class="row">
    <form action="{{url_for('insert_appointment')}}" methods="POST" class="col s12">
      <div class="row">
        <div class="input-field col s12">
            <i class="far fa-building prefix">Facility</i>
          <select id="facility" name="site_name">
            <option value="" disabled selected>Select Your Facility</option>
            {% for booking in facility %} 
            <option value="{{ booking['site_name'] }}">{{ booking['site_name'] }}</option>
            {% endfor %}
          </select>
          <label>Facility</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <i class="far fa-address-book prefix">Department</i>            
            <select id="departments" name="departments">
                <option value="" class="dept" disabled selected>Choose a department</option>
                {% for dept in departments %}
                <option id="{{ dept['ref'] }}" value="{{ dept['ref'] }}">{{ dept['ref'] }}</option>
                {% endfor %}
            </select>
            <label>Department</label>
        </div>
      </div>
      <div class="row">
          <div class="input-field col s12">
              <i class="fas fa-cogs prefix">Services</i>              
              <select id="services" name="services">
                  <option value="" disabled selected>Select a department from list above</option>
              </select>
              <label>Services</label>
          </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
            <i class="far fa-clipboard prefix">Title</i>
            <input id="task_name" name="task_name" type="text" class="validate">
            <label for="icon_prefix">Appointment Name</label>
          </div>
        </div>
      <div class="row">
        <div class="input-field col s12">
            <i class="far fa-sticky-note prefix">Task Notes</i>
          <textarea name="task_description" id="task_description" class ="materialize-textarea"/></textarea>
          <label for="icon_telephone">Task Description</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
            <i class="fas fa-user pefix">Task Creator</i>
          <textarea name ="name" id="name" class ="materialize-textarea"/></textarea>
          <label for ="icon_prefix">Created By</label>
        </div>
      </div>
      <div class="row">
        <div class ="input-field col s12">
            <i class="far fa-calendar-check prefix">Appointment Date</i>
          <input id ="sched_date" name="sched_date" type="text" class ="datepicker"></input>
          <label for ="icon_prefix">Due Date</label>
        </div>
        </div>
      <div class="row">
      <div class="input-field col s12">
          <i class="fas fa-clock prefix">Appointment Time</i>
          <input id ="sched_time" name ="sched_time" type="text" class ="timepicker materialize-textarea"></input>
          <label for ="icon_prefix">Time</label>
      </div>
      </div>
      <div class="row">
        <div class="switch">
          <label>
          <input id="is_urgent" name="is_urgent" type="checkbox">
          <span class="lever"></span>
          Is Urgent
          </label>
        </div>
      </div>
      <div class="row">
        <button class="btn btn-primary btn-sm" type="submit" name="action">Add Task
            <i class="fas fa-layer-group right"></i>
        </button>
      </div>
  </form>
</div>
  
{% endblock %}